tosca_definitions_version: tosca_simple_yaml_1_0
imports:
  - definition.YAML

topology_template:
    node_templates:
      deployment:
        type:  kubernetes.nodes.Deployment
        properties:
          spec:
            replicas: 1
      pod:
        type:  kubernetes.nodes.Pod
        properties:
          spec:
            containers:
               resources:
                  limits:
                      cpu:  0.1 GHz
                      memory: 500 MB
      service:
        type:  kubernetes.nodes.Service
        properties:
          spec:
            clusterIP: 10.0.171.239
            externalIPs: 80.11.12.10
            ports:
              - protocol: TCP
                targetPort: my-pods
